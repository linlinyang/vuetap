!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).vueTap=n()}(this,function(){"use strict";var n=Object.prototype.toString;function f(e){return"[object Object]"===n.call(e)}function c(e,n,t){if(!f(e)||!f(n))return!1;var i=Object.keys(e),r=Object.keys(n);if(i.length!==r.length)return!1;for(var u=i.length;u--;){var o=i[u],a=e[o],s=n[o];if(f(a)||f(s)){if(a===n||s===e||a===e||s===n)continue;c(a,s)}}return!0}var e="undefined"!=typeof window,l=!!document&&"ontouchend"in document,r=!1;try{var t=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("passive-test",null,t)}catch(e){}Element.prototype.bind||(Element.prototype.bind=function(e,n,t){this.unbind(e,t),(this._cacheEvents||(this._cacheEvents=[])).push({type:e,handler:n,modifiers:t});var i=r?{capture:t.capture,passive:t.passive}:t.capture;this.addEventListener(e,n,i)}),Element.prototype.unbind||(Element.prototype.unbind=function(e,n){var t=function(e,n,t){if(!e||!n)return;var i=e._cacheEvents||(e._cacheEvents=[]),r=i.length>>1,u=r+1,o=i[r],a=i[u];for(;o||a;){if(o&&o.type===n&&c(o.modifiers,t))return removeCachesIndex.push(r),e.unbind(o.type,o.handler,o.modifiers),i.splice(r,1),o.handler;if(a&&a.type===n&&c(a.modifiers,t))return removeCachesIndex.push(u),e.unbind(u.type,u.handler,u.modifiers),i.splice(u,1),u.handler;o=i[--r],a=i[++u]}return null}(this,e,n),i=r?{capture:n.capture,passive:n.passive}:n.capture;this.removeEventListener(e,t,i)});var v=0,h=0,b=0,m=null;function u(t){return function(e){var n=e.touches?e.touches[0]:e;v=n.clientX,h=n.clientY,b=new Date,m=e.currentTarget,t.stop&&e.stopPropagation(),t.prevent&&e.preventDefault()}}function o(c,p,d){return function(e){var n=e.changedTouches?e.changedTouches[0]:e,t=n.clientX-v,i=n.clientY-h,r=new Date-b,u=e.target||e.srcElement,o=c.value;p.stop&&e.stopPropagation(),p.prevent&&e.preventDefault();var a=function(n,t){return n=function(e){return e.replace(/-(\w)/g,function(e,n){return n.toUpperCase()})}(n),function(e){return"function"==typeof t?n===e||"vueTap"===n&&"tap"===e?t:null:f(t)?"function"==typeof t[e]?t[e]:null:void 0}}(d,o),s=null;r<300&&Math.abs(t)<10&&Math.abs(i)<10?s=a("tap"):Math.abs(t)>Math.abs(i)?30<t?s=a("swiperRight"):t<-30&&(s=a("swiperLeft")):s=a(30<i?"swiperDown":"swiperUp"),(p.self&&m===u&&e.currentTarget===u||!p.self)&&s&&"function"==typeof s&&(s.call(u,e,c.arg),p.once&&(l?(u.unbind("touchstart",p),u.unbind("touchend",p)):(u.unbind("mousedown",p),u.unbind("mouseup",p))))}}function i(e,n,t){var i=t.modifiers;l?(n.bind("touchstart",u(i),i),n.bind("touchend",o(t,i,e),i)):(n.bind("mousedown",u(i),i),n.bind("mouseup",o(t,i,e),i))}var a=["tap","swiperLeft","swiperRight","swiperDown","swiperUp"];var s={unbind:function(e,n){var t=n.modifiers;l?(e.unbind("touchstart",t),e.unbind("touchend",t)):(e.unbind("mousedown",t),e.unbind("mouseup",t))}};return function(e){for(var n=a.length;n--;)e[a[n]]={bind:i.bind(null,a[n]),componentUpdated:i.bind(null,a[n]),unbind:e.unbind};e.bind=i.bind(null,"vueTap"),e.componentUpdated=i.bind(null,"vueTap")}(s),s.version="2.0.3",e&&(s.install=function(e){e.directive("vueTap",s)},window.Vue&&Vue.use(s)),s});
