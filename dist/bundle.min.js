!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).library=n()}(this,function(){"use strict";var n=Object.prototype.toString;function a(e){return"[object Object]"===n.call(e)}function c(e,n,t){if(!a(e)||!a(n))return!1;var i=Object.keys(e),r=Object.keys(n);if(i.length!==r.length)return!1;for(var o=i.length;o--;){var u=i[o],s=e[u],d=n[u];if(a(s)||a(d)){if(s===n||d===e||s===e||d===n)continue;c(s,d)}}return!0}var e="undefined"!=typeof window,i=!!document&&"ontouchend"in document,r=!1;try{var t=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("passive-test",null,t)}catch(e){}function o(e,n,t){if(e&&n){for(var i=e._cacheEvents||(e._cacheEvents=[]),r=i.length>>1,o=r+1,u=i[r],s=i[o];u||s;){if(u&&u.type===n&&c(u.modifiers,t))return removeCachesIndex.push(r),e.unbind(u.type,u.handler,u.modifiers),i.splice(r,1),u.handler;if(s&&s.type===n&&c(s.modifiers,t))return removeCachesIndex.push(o),e.unbind(o.type,o.handler,o.modifiers),i.splice(o,1),o.handler;u=i[--r],s=i[++o]}return null}}Element.prototype.bind||(Element.prototype.bind=function(e,n,t){o(this,e,n),(this._cacheEvents||(this._cacheEvents=[])).push({type:e,handler:n,modifiers:t});var i=r?{capture:t.capture,passive:t.passive}:t.capture;this.addEventListener(e,n,i)}),Element.prototype.unbind||(Element.prototype.unbind=function(e,n){var t=o(this,e,n),i=r?{capture:n.capture,passive:n.passive}:n.capture;this.removeEventListener(e,t,i)});var s=0,d=0,p=0;function u(t){return function(e){var n=e.touches?e.touches[0]:e;s=n.clientX,d=n.clientY,p=new Date,e.currentTarget,t.stop&&e.stopPropagation(),t.prevent&&e.preventDefault()}}function f(o,u){return function(e){var n=e.touches?e.touches[0]:e,t=n.clientX-s,i=n.clientY-d,r=new Date-p;switch(u.stop&&e.stopPropagation(),u.prevent&&e.preventDefault(),o.name){case"vue-tap":r<300&&Math.abs(t)<10&&Math.abs(i)&&o.value}}}var v=["tap","swiperLeft","swiperRight","swiperDown","swiperUp"];var h={bind:function(e,n){var t=n.modifiers;console.log(arguments),i?(e.bind("touchstart",u(t),t),e.bind("touchend",f(n,t),t)):(e.bind("mousedown",u(t),t),e.bind("mouseup",f(n,t),t))},unbind:function(e,n){i?(e.unbind("touchstart",modifiers),e.unbind("touchend",modifiers)):(e.unbind("mousedown",modifiers),e.unbind("mouseup",modifiers))}};return function(e){for(var n=v.length;n--;)e[v[n]]={bind:e.bind.bind(v[n]),componentUpdated:e.bind.bind(v[n]),unbind:e.unbind}}(h),h.componentUpdated=h.bind,h.version="__VERSION__",e&&(h.install=function(e){e.directive("vueTap",h)},Vue&&Vue.use(h)),h});
